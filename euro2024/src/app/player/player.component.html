<div class="px-5 pt-5 lg:px-0">
  <div class="flex items-center mb-5">
    <div class="cursor-pointer link-gradient" (click)="goBack()">Overview</div>
    <div class="px-3 flex items-center">
      <mat-icon fontSet="material-symbols-outlined" class="breadcrumb-arrow">chevron_right</mat-icon>
    </div>
    @if (!status.loading) {
      <div>{{ playerData.name }}</div>
    }
  </div>
  <div class="py-5">
    <div class="sm:flex items-end gap-5 mb-5">
      <div class="player rounded-full overflow-hidden position-relative border-2 mb-5">
        <svg class="position-absolute bottom-0" width="693" height="799.2" viewBox="0 0 183.3 211.5" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <path style="fill:#ecdc62;fill-opacity:1;stroke:#33475b;stroke-width:0;stroke-linejoin:bevel;stroke-dashoffset:6" d="M73.5 110.8s-.2 5.4-.5 7.6c-.3 1.5-.8 3-1.4 4.4-.8 2.2-3 6.2-3 6.2l12.8 13 10.3 7 7 5.8 5.4 3.6 9.4-6.2 8-6.7 8.9-6.2 5.8-6.3 4-4c-3.2-2.8-4.7-5-5.4-8.4-.3-1.6-.4-5-.4-5v-4.8" transform="translate(-13.2 -18.2)"/>
          <path style="fill:#a69938;fill-opacity:1;stroke:#33475b;stroke-width:0;stroke-linejoin:bevel;stroke-dashoffset:6" d="M83.6 120.1s11.6 20.5 39.6 23.6c7.2-2.2 16.5-15.1 16.5-15.1-4.1-6.1-5.7-5.1-5.8-25l-33.3 2.7" transform="translate(-13.2 -18.2)"/>
          <path style="fill:#d6c754;stroke:#33475b;stroke-width:0;stroke-linejoin:bevel;stroke-dashoffset:6" d="M97.7 37.1c-24.5-4.6-49.8 15-56.9 43.8-.8-.5-1.7-.8-2.6-.8-4 0-7.4 5.2-7.4 11.7 0 6.4 3.3 11.6 7.4 11.6l1.3-.1c2.6 20.5 15.7 36 33.5 39.4 17.8 3.3 36.8-6.2 48.4-24.3.5.6 1 1 1.6 1.3 3.7 1.8 8.9-1.6 11.6-7.5 2.8-6 2.1-12.2-1.5-14a5 5 0 0 0-3-.4c6.5-29-8-56-32.4-60.7zM143 215.3l-33.8 7.5-7.1 32.3 29.8 5.7zm-165.8-30.8-10.7 45.2 29.9 5.7 8-32.3z" transform="matrix(.9831 -.18306 .23022 .97314 -13.2 -18.2)"/>
          <path [style.fill]="countryColor" style="fill-opacity:1;stroke:#33475b;stroke-width:0;stroke-linejoin:bevel;stroke-dashoffset:6" d="M58.7 130.8c-44.2 4.6-42.3 40-42.3 40l33.4 16.5.3 42h108.7l-.3-42.7 34.1-15.8s2-35.2-42.1-39.8c-28.8 29.4-45.2 30.8-46.7 31.5-1.5-.7-16.3-2.3-45.1-31.7z" transform="translate(-12.8 -18.2)"/>
          <path [style.fill]="countryColor" style="filter: brightness(85%);fill-opacity:1;stroke:#33475b;stroke-width:0;stroke-linejoin:bevel;stroke-dashoffset:6" d="m68.3 127.6-12.8 3.5s4.5 5.4 22 20.5a101.9 101.9 0 0 0 26.3 18.1v.1h.2c.7-.3 7-2 26.5-18 18-14.7 22-20.7 22-20.7l-13.1-2.9s-17.3 19.2-35.5 29.3c-18.2-10-35.6-29.9-35.6-29.9Zm-53 42.6c-.6 0-1.3.2-2 1.7-.9 2.2-.5 5.2 0 7.4.7 2.2 1.3 2.3 3.4 3.2l33.6 14.8.2-11-34.1-16-1-.1zm178.2.1h-1l-34 16.1v11l33.8-14.8c2-.8 2.7-1 3.3-3.1.5-2.2.9-5.2 0-7.4-.7-1.5-1.4-1.8-2-1.8z" transform="translate(-12.8 -18.2)"/>
        </svg>
        @if (playerData) {
          <div [class.opacity-0]="status.loading" [style.filter]="countryColor === '#ffffff' ? 'brightness(75%)' : 'brightness(100%)'" class="jersey-number text-3xl font-bold">{{ playerData.jerseyNumber ?? 10 }}</div>
          <div [ngClass]="'country-flag rounded-full border overflow-hidden h-8 w-8 fib fis fi-' + (playerData.countryIso ?? '').toLowerCase()"></div>
        }
      </div>
      @if (playerData) {
        <div class="ml-5 flex flex-col justify-end lg:mb-5">
          <h1 class="player-name text-4xl mb-2" [class.opacity-0]="status.loading">{{ playerData.name }}</h1>
          @if (playerData.countryIso) {
            <div class="flex items-center gap-4">
              <div [ngClass]="'country-flag rounded-full border overflow-hidden h-8 w-8 fib fis fi-' + (playerData.countryIso ?? '').toLowerCase()"></div>
              <div class="text-lg">{{ playerData.countryName }}</div>
            </div>
          }
          <div class="flex gap-4 py-4">
            <div [class.hidden]="!playerData.age">
              <div class="uppercase text-sm opacity-50">Age</div>
              <div class="text-xl" [class.opacity-0]="status.loading">{{ playerData.age }}</div>
            </div>
            <div [class.hidden]="!playerData.weight" class="border-l pl-4">
              <div class="uppercase text-sm opacity-50">Weight</div>
              <div class="text-xl" [class.opacity-0]="status.loading">{{ playerData.weight }} kg</div>
            </div>
            <div [class.hidden]="!playerData.height" class="border-l pl-4">
              <div class="uppercase text-sm opacity-50">Height</div>
              <div class="text-xl" [class.opacity-0]="status.loading">{{ playerData.height }} cm</div>
            </div>
          </div>
        </div>
        <div class="grow"></div>
        <div class="flex justify-end gap-4 mb-5">
          <div class="cursor-pointer link-gradient flex items-center"
            [class.opacity-50]="!status.fetchedSquad"
            [class.opacity-100]="status.fetchedSquad"
            (click)="goToPlayer(previousPlayerId)">
            <mat-icon fontSet="material-symbols-outlined">chevron_left</mat-icon>
            Previous
          </div>
          <div class="cursor-pointer link-gradient flex items-center"
            [class.opacity-50]="!status.fetchedSquad"
            [class.opacity-100]="status.fetchedSquad"
            (click)="goToPlayer(nextPlayerId)">
            Next
            <mat-icon fontSet="material-symbols-outlined">chevron_right</mat-icon>
          </div>
        </div>
      }
    </div>
    <div class="grow grid grid-cols-1 lg:grid-cols-2 gap-3">
      <div class="border rounded-lg grid grid-cols-2 lg:grid-cols-3">
        @for (chart of numberCharts; track chart) {
          <luzmo-viz-item
            class="metric"
            [type]="chart.type"
            [authKey]="authKey"
            [authToken]="authToken"
            [filters]="chart.filters"
            [slots]="chart.slots"
            [options]="chart.options"
          ></luzmo-viz-item>
        }
      </div>
      <div class="border rounded-lg">
        @if (radarChart) {
          <luzmo-viz-item
            class="radar-chart"
            [type]="'radar-chart'"
            [authKey]="authKey"
            [authToken]="authToken"
            [filters]="radarChart.filters"
            [options]="radarChart.options"
            [slots]="radarChart.slots"
          ></luzmo-viz-item>
        }
      </div>
    </div>
  </div>
</div>
