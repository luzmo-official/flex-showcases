<mat-toolbar
  class="shadow shadow-slate-200 dark:shadow-transparent shadow-md bg-white dark:bg-slate-900 dark:border-b dark:border-slate-600"
>
  <div class="container resp-w-full flex items-center mx-auto px-0 lg:px-5">
    <div class="block lg:hidden menu-button">
      <button mat-icon-button (click)="sideNav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    </div>
    <div class="flex items-center">
      <img
        src="assets/logo/cup-gradient.svg"
        alt="EURO2024 Stats logo"
        class="inline h-8"
      />
      <span class="ml-4 hidden md:inline logo-text">EURO 2024 Stats</span>
    </div>
    <div class="grow"></div>
    <div class="flex gap-4 mr-5 hidden lg:flex">
      <a
        [routerLink]="'/calendar'"
        class="navbar-link"
        [class.active]="activePage === 'calendar'"
        >Calendar</a
      >
      <a
        [routerLink]="'/compare/BEL-vs-FRA'"
        class="navbar-link"
        [class.active]="activePage === 'compare'"
        >Head to head</a
      >
      <a
        [routerLink]="'/probabilities'"
        class="navbar-link"
        [class.active]="activePage === 'probabilities'"
        >Probabilities</a
      >
      <!--a [routerLink]="'/probabilities'">Players</a-->
    </div>
    @defer (on timer(500ms)){
    <div class="cursor-pointer flex items-center hidden lg:flex ml-2 mr-5">
      @switch (currentTheme) { @case ('light') {
      <mat-icon fontSet="material-symbols-outlined" (click)="setChartsTheme('dark')"
        >light_mode</mat-icon
      >
      } @case ('dark') {
      <mat-icon fontSet="material-symbols-outlined" (click)="setChartsTheme('auto')"
        >dark_mode</mat-icon
      >
      } @default {
      <mat-icon fontSet="material-symbols-outlined" (click)="setChartsTheme('light')"
        >routine</mat-icon
      >
      } }
    </div>
    }
    <a href="https://luzmo.com" target="_blank" class="ml-2">
      <span class="text-xs">built with </span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 681.26 129.61"
        class="logo inline h-4 ml-3"
      >
        <g>
          <path
            d="M490.67,0c-18.19,0-28.85,10.69-35.27,22.76a1.34,1.34,0,0,1-2.33.07C445.33,10.19,432.31.94,417.88,0a10.56,10.56,0,0,0-8,3L390.21,22.23a1.31,1.31,0,0,1-1.65.55.61.61,0,0,1-.14-.07l-.06,0a1.3,1.3,0,0,1-.68-1.15V2.22a1.33,1.33,0,0,0-1.29-1H353.1a1.32,1.32,0,0,0-1.33,1.33V126.32a1.33,1.33,0,0,0,1.33,1.34h33.29a1.34,1.34,0,0,0,1.34-1.34V33.94a2.66,2.66,0,0,1,2.67-2.67h31.44a2.67,2.67,0,0,1,2.67,2.67v92.38a1.34,1.34,0,0,0,1.34,1.34h33.28a1.34,1.34,0,0,0,1.34-1.34V33.94a2.67,2.67,0,0,1,2.68-2.67h31.43a2.66,2.66,0,0,1,2.67,2.67v92.38a1.34,1.34,0,0,0,1.34,1.34h33.29a1.34,1.34,0,0,0,1.33-1.34V47.76C533.21,23.84,513.78,0,490.67,0Z"
            transform="translate(0 0)"
          />
          <path
            d="M95,97.54H27.5a2.67,2.67,0,0,1-2.59-3.33L47.73,2.89a1.33,1.33,0,0,0-1.29-1.67H1.34A1.34,1.34,0,0,0,0,2.56V96.2a1.34,1.34,0,0,0,1.34,1.34h13.2a2.67,2.67,0,0,1,2.59,3.32L10.85,126a1.34,1.34,0,0,0,1.3,1.66H95a1.34,1.34,0,0,0,1.34-1.34V98.87A1.34,1.34,0,0,0,95,97.54Z"
            transform="translate(0 0)"
          />
          <path
            d="M224.16,1.22H190.88a1.34,1.34,0,0,0-1.34,1.34V95a2.68,2.68,0,0,1-2.68,2.67h-43.5A2.68,2.68,0,0,1,140.68,95V2.56a1.34,1.34,0,0,0-1.34-1.34H106.06a1.34,1.34,0,0,0-1.34,1.34V80.39c0,22.62,15.77,42.35,36,47.22a46.22,46.22,0,0,0,21.06,1.33,10.5,10.5,0,0,0,5.4-2.84l19.92-19.45a1.31,1.31,0,0,1,1.65-.54l.13.06.06,0a1.29,1.29,0,0,1,.69,1.15v19.3a1.34,1.34,0,0,0,1.29,1h33.28a1.34,1.34,0,0,0,1.34-1.34V2.56a1.34,1.34,0,0,0-1.34-1.34Z"
            transform="translate(0 0)"
          />
          <path
            d="M615.16.27c-48.37,0-65.91,32.31-65.91,64.62,0,32.86,17.54,64.25,65.91,64.25,48.75,0,66.1-31.58,66.1-64.25C681.26,32.76,663.91.27,615.16.27Zm0,99.72c-23.47,0-29.63-12.84-29.63-35.11,0-22.61,6.16-35.28,29.63-35.28C639,29.6,645,42.27,645,64.88,645,87.15,639,100,615.17,100Z"
            transform="translate(0 0)"
          />
          <path
            d="M292.42,97.54A2.67,2.67,0,0,1,290,93.67L335.28,3.16a1.34,1.34,0,0,0-1.2-1.94h-85.6a1.33,1.33,0,0,0-1.29,1l-7.25,29v.05H283.7a2.67,2.67,0,0,1,2.4,3.86l-44.93,90.59a1.33,1.33,0,0,0,1.19,1.93h85.31a1.34,1.34,0,0,0,1.3-1l6.86-27.45a1.34,1.34,0,0,0-1.3-1.66Z"
            transform="translate(0 0)"
          />
        </g>
      </svg>
    </a>
  </div>
</mat-toolbar>
<mat-sidenav-container class="main-container">
  <mat-sidenav
    #sideNav
    fixedInViewport="true"
    class="side-navigation flex flex-col"
    [opened]="isOpened"
    [mode]="smallScreen ? 'over' : 'side'"
    [class.hidden]="!smallScreen"
  >
    <div
      class="sidenav-inner-container position-relative flex flex-col p-5"
    >
      <div class="grow">
        <div class="logo-text text-lg link-gradient mb-5">
          EURO 2024 Stats
        </div>
        <div class="flex flex-col gap-4">
          <a
            [routerLink]="'/calendar'"
            class="sidenav-link"
            [class.active]="activePage === 'calendar'"
            >Calendar</a
          >
          <a
            [routerLink]="'/compare/BEL-vs-FRA'"
            class="sidenav-link"
            [class.active]="activePage === 'compare'"
            >Head to head</a
          >
          <a
            [routerLink]="'/probabilities'"
            class="sidenav-link"
            [class.active]="activePage === 'probabilities'"
            >Probabilities</a
          >
          <!--a [routerLink]="'/probabilities'">Players</a-->
        </div>
      </div>
      <div class="fixed bottom-4 cursor-pointer flex items-center">
        @switch (currentTheme) { @case ('light') {
        <div class="flex items-center gap-5" (click)="setChartsTheme('dark')">
          <mat-icon fontSet="material-symbols-outlined"
            >light_mode</mat-icon
          >
          Light mode
        </div>
        } @case ('dark') {
        <div class="flex items-center gap-5" (click)="setChartsTheme('auto')">
          <mat-icon fontSet="material-symbols-outlined">dark_mode</mat-icon>
          Dark mode
        </div>
        } @default {
        <div class="flex items-center gap-5" (click)="setChartsTheme('light')">
          <mat-icon fontSet="material-symbols-outlined">routine</mat-icon>
          Auto mode
        </div>
        } }
      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="container resp-w-full mx-auto px-0 lg:px-5">
      <router-outlet></router-outlet>
      @if (datasetLastModifiedDate) {
      <div class="border-top mt-5 py-3 px-3 lg:px-0">
        Data last updated at {{ datasetLastModifiedDate }}.
        <br class="lg:hidden" /><span class="mr-1">Source:</span
        ><a
          href="https://www.transfermarkt.com"
          target="_blank"
          class="link-gradient"
          >UEFA</a
        >
        and
        <a
          href="https://www.uefa.com/euro2024/"
          target="_blank"
          class="link-gradient"
          >transfermarket.com</a
        >
        and
        <a
          href="https://www.ea.com/games/ea-sports-fc/ratings-fc-24"
          target="_blank"
          class="link-gradient"
          >ea.com</a
        >
      </div>
      }
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
